# FRED Simulations - Environment Variables
# Copy this file to .env and update values for your local environment

# ==========================================
# Environment Configuration
# ==========================================
ENVIRONMENT=dev  # Environment name (dev, staging, production)

# ==========================================
# Database Configuration
# ==========================================
# Option 1: Complete DATABASE_URL (recommended for local development)
DATABASE_URL=postgresql://epistemix_user:epistemix_password@postgres:5432/epistemix_db

# Option 2: Individual database parameters (alternative to DATABASE_URL)
# The bootstrap module will construct DATABASE_URL from these if not already set
# DATABASE_HOST=postgres
# DATABASE_PORT=5432
# DATABASE_NAME=epistemix_db
# DATABASE_USER=epistemix_user
# DATABASE_PASSWORD=epistemix_password

# PostgreSQL Connection Pool Settings (optional)
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# ==========================================
# AWS Configuration
# ==========================================
AWS_REGION=us-east-1

# S3 Configuration
S3_UPLOAD_BUCKET=epistemix-uploads-dev

# ==========================================
# MinIO Configuration (Local S3-compatible Storage)
# ==========================================
# These are ONLY used for local development with docker-compose
# MinIO provides S3-compatible storage for upload location testing
# Results repository still uses real AWS S3 (for AWS Batch)
#
# For docker-compose:
# MINIO_ENDPOINT=http://minio:9000
# MINIO_ACCESS_KEY=minioadmin
# MINIO_SECRET_KEY=minioadmin123
#
# For production: Leave these unset to use real AWS S3 with IAM credentials

# ==========================================
# Epistemix Platform Configuration
# ==========================================
# Flask Configuration
FLASK_ENV=development
SECRET_KEY=dev-secret-key-change-in-production

# API Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:5000
LOG_LEVEL=INFO

# ==========================================
# FRED Simulation Configuration
# ==========================================
FRED_HOME=/workspaces/fred_simulations/fred-framework
EPISTEMIX_API_URL=http://localhost:5000

# ==========================================
# Docker Compose Local Development
# ==========================================
# For running the full stack locally with MinIO:
# 1. Copy this file to .env and uncomment MinIO credentials:
#    AWS_ACCESS_KEY_ID=minioadmin
#    AWS_SECRET_ACCESS_KEY=minioadmin123
#    AWS_ENDPOINT_URL=http://minio:9000
# 2. Start services: docker-compose up -d
# 3. Access MinIO UI: http://localhost:9001 (login: minioadmin/minioadmin123)
# 4. Access API: http://localhost:5000

# ==========================================
# Notes
# ==========================================
# - For local development: Use this .env file with docker-compose
# - For AWS deployments: Configuration loaded from Parameter Store at /epistemix/{ENVIRONMENT}/
# - Priority: .env file < environment variables < AWS Parameter Store (fills missing values)
# - Migration-runner uses bootstrap module to load configuration automatically
# - Boto3 credentials precedence: env vars > ~/.aws/credentials > IAM roles
